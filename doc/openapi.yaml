openapi: 3.0.3
info:
  title: Gooty API
  description: Gooty APIのOpenAPI仕様書
  version: 1.0.0
  contact:
    name: Gooty API Support
  license:
    name: Proprietary
    url: https://github.com/your-org/gooty

servers:
  - url: http://{host}:{port}
    description: APIサーバー
    variables:
      host:
        default: localhost
        description: APIサーバーのホスト名
      port:
        default: "3002"
        description: APIサーバーのポート番号

paths:
  /health:
    $ref: "./paths/health.yaml#/~1health"
  /up:
    $ref: "./paths/health.yaml#/~1up"
  /signup:
    $ref: "./paths/auth.yaml#/~1signup"
  /login:
    $ref: "./paths/auth.yaml#/~1login"
  /logout:
    $ref: "./paths/auth.yaml#/~1logout"
  /users:
    $ref: "./paths/users.yaml#/~1users"
  /users/{id}:
    $ref: "./paths/users.yaml#/~1users~1{id}"
  /shops:
    $ref: "./paths/shops.yaml#/~1shops"
  /shops/{id}:
    $ref: "./paths/shops.yaml#/~1shops~1{id}"

tags:
  - name: Health
    description: ヘルスチェック関連のエンドポイント
  - name: Auth
    description: 認証関連のエンドポイント
  - name: Users
    description: ユーザー管理のエンドポイント
  - name: Shops
    description: ショップの一覧を返すエンドポイント

components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      description: Bearer認証（Authorizationヘッダーにトークンを設定）
    CookieAuth:
      type: apiKey
      in: cookie
      name: access_token
      description: Cookie認証（ログイン時に自動設定）
