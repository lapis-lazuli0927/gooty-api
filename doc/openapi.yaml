openapi: 3.0.3
info:
  title: Gooty API
  description: Gooty APIのOpenAPI仕様書
  version: 1.0.0
  contact:
    name: Gooty API Support
  license:
    name: Proprietary
    url: https://github.com/your-org/gooty

servers:
  - url: http://{host}:{port}
    description: APIサーバー
    variables:
      host:
        default: localhost
        description: APIサーバーのホスト名
      port:
        default: "3002"
        description: APIサーバーのポート番号

paths:
  /health:
    $ref: "./paths/health.yaml#/~1health"
  /up:
    $ref: "./paths/health.yaml#/~1up"
  /shops:
    $ref: "./paths/shops.yaml#/~1shops"
  /shops/{id}:
    $ref: "./paths/shops.yaml#/~1shops~1{id}"

components:
  schemas:
    # リソーススキーマ
    HealthResponse:
      $ref: "./components/schemas/health.yaml#/HealthResponse"
    Shops:
      $ref: "./components/schemas/shops.yaml#/Shops"
    ManualCreate:
      $ref: "./components/schemas/create.yaml#/ManualCreate"
    AutoCreate:
      $ref: "./components/schemas/create.yaml#/AutoCreate"

    # エラーレスポンス
    ErrorResponse:
      $ref: "./components/schemas/common.yaml#/ErrorResponse"
    ValidationErrorResponse:
      $ref: "./components/schemas/common.yaml#/ValidationErrorResponse"

    # 共通レスポンス
    SuccessResponse:
      $ref: "./components/schemas/responses.yaml#/SuccessResponse"
    DeleteSuccessResponse:
      $ref: "./components/schemas/responses.yaml#/DeleteSuccessResponse"
    UpResponse:
      $ref: "./components/schemas/responses.yaml#/UpResponse"

    # リソース別レスポンス
    ShopResponse:
      $ref: "./components/schemas/responses.yaml#/ShopResponse"
    ShopListResponse:
      $ref: "./components/schemas/responses.yaml#/ShopListResponse"

tags:
  - name: Health
    description: ヘルスチェック関連のエンドポイント
  - name: Shops
    description: ショップの一覧を返すエンドポイント
